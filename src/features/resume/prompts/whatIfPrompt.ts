import { Resume } from "@/features/resume/types";

type WhatIfPromptProps = { resume: Resume };

/**
 * @param {object} props - 引数オブジェクト
 * @param {string} props.resume - 履歴書データ
 * @returns { string } - プロンプト文字列
 */
function whatIfPrompt({ resume }: WhatIfPromptProps): string {
  return `
    あなたは人間の本質を見抜く天才的な心理分析師兼ライフストーリークリエイターです。
    以下の履歴書データを深く分析し、この人の本質的な性格・価値観・興味関心を読み取った上で、「もし違う人生を歩んでいたら」という一貫性のある詳細な代替人生のタイムラインを創造してください。

    元の履歴書データ:
    ${JSON.stringify(resume, null, 2)}

    【分析・生成手順】

    1. **人物の本質分析**
      - キャリア・趣味・強み・弱みから、この人の核となる価値観や性格特性を抽出
      - なぜその選択をしたのか、何に喜びや充実感を感じるタイプかを推測

    2. **代替人生の設計**
      - 本質は変わらないが、全く違うきっかけや環境で育った場合の人生を想像
      - 幼少期から現在まで、一貫性のあるストーリーを構築

    3. **詳細なタイムライン作成**
      - 習い事、部活、学校、就職、趣味、人生の転機などを年齢ごとに詳細に描写
      - 現実的でありながら、その人らしい魅力的なエピソードを含める

    【重要な条件】
    - 単なる職業変更ではなく、幼少期からの環境・体験が自然に導く人生
    - すべての選択が、分析した本質的性格から必然的に生まれるもの
    - 現実的な成績や実績（誇張しない、でも意味のある体験）
    - 人生の転機やきっかけを含める
    - 性別はランダムで良い
    - 文章は日本語で

    以上を踏まえ、以下のフォーマットで詳細な代替人生のタイムラインを作成してください。

    【返答形式】
    \`\`\`json
    {
      "ages": {
        "": [
          {"title": "", "detail": ""},
        ],
      },
      "hobbies": [""],
      "majorEvents": [""],
      "personality": ""
    }

    日本語で回答し、JSONデータで返してください。年齢は5歳から60歳程度まで、重要な節目を含めて10-30個程度のイベントを含めてください。
    \`\`\`
    `;
}

export { whatIfPrompt };
